{\rtf1\ansi\ansicpg1252\cocoartf2761
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fnil\fcharset0 AvenirNext-Bold;\f1\fnil\fcharset0 AvenirNext-Regular;\f2\fswiss\fcharset0 Helvetica;
}
{\colortbl;\red255\green255\blue255;\red24\green25\blue27;\red255\green255\blue255;\red0\green0\blue0;
\red0\green0\blue0;}
{\*\expandedcolortbl;;\cssrgb\c12549\c12941\c14118;\cssrgb\c100000\c100000\c100000;\cssrgb\c0\c0\c0;
\cssrgb\c0\c0\c0\c5098;}
\paperw11900\paperh16840\margl1440\margr1440\vieww33100\viewh16960\viewkind0
\deftab720
\pard\pardeftab720\partightenfactor0

\f0\b\fs48 \cf2 \cb3 \expnd0\expndtw0\kerning0
Database Migration Service
\f1\b0 \'a0provides options for one-time and continuous jobs to migrate data to Cloud SQL using different connectivity options, including IP allowlists, VPC peering, and reverse SSH tunnels (see documentation on connectivity options at\'a0{\field{\*\fldinst{HYPERLINK "https://cloud.google.com/database-migration/docs/postgres/configure-connectivity"}}{\fldrslt \cf0 https://cloud.google.com/database-migration/docs/postgresql/configure-connectivity}}).\
\
Migrating a database via\'a0
\f0\b Database Migration Service
\f1\b0 \'a0requires some preparation of the source database, including creating a dedicated user with replication rights, adding the\'a0\cb5 pglogical\cb3 \'a0database extension to the source database and granting rights to the schemata and tables in the database to be migrated, as well as the postgres database, to that user. Database Migration API has to be enabled before undertaking activity. Service networking API also needs to be enabled; it is required in order to be able to configure Cloud SQL to support VPC Peering and connections over a private ip-address.\
\
If you want to minimise the impact of non-availability of cloud sql instances during database maintenance windows, implement the following:\
1. Connection pools; they will minimise the impact of dropped connections. Although connections between the pooler and the database are dropped during maintenance, the connections between the application and the pooler are preserved. Thus, the work of reestablishing the connections is transparent to the application and offloaded to the connection pooler instead.\
2. Exponential backoff; if a query fails or a connection is dropped, the system institutes the a wait period before retrying, which increases for each subsequent retry. Following this pattern ensures that these failures are corrected without overloading the service.\
\
Even if you do not set a maintenance window for a database, it will still be conducted.\
\
If you need to export a large cloud sql for postgresql instance which has databases that are heavily used in production and export time is not a concern and you want to it conducted without affecting the performance of the instance then you should use serverless export which will result in cloud sql creating a temporary instance to offload the export operation. Offloading the export operation allows databases on the primary instance to continue to serve queries and perform operations at the usual performance rate.\
\
The cloud sql over-provisioned instance recommender helps with recommendations on how to resize such instances and reduce costs. Hence, it can help you optimise costs for instances that are too big for the workload that they handle.\
\
If you have slow running queries on a mysql database instance running on compute engine and you need to identify the slow queries running on the databases you can set database-flags options for slow_query_log then look for  mysql-slow.log in the logs explorer.\
\
Cloud spanner does not evaluate parametrised LIKE patterns until execution time and therefore this doesn\'92t improve query performance. If your application needs to execute many similar queries in which only a literal value changes, you should use a parameter placeholder (e.g. cutomerId=@customerId) for that value. If the storeId is constant over subsequent query invocations leaving it as the constant as a literal in this case would be beneficial because it can improve the specific query plan that is chosen by the query engine.\
\
Developers can use cloud functions to offload to google cloud resource intensive work (heavy CPU or networking) that wouldn\'92t be practical to run on a user\'92s device. The real time database feature of firebase lets you trigger updates to followers. ImageMagick command line tools are provided for use with cloud functions to simplify this work.\
\
Firebase is a nosql document oriented database that supports flexible schemas. Native mode supports real time updates. Datastore mode does not support real time updates.\
\
For cloud sql managed databases, failover replication doesn\'92t automatically backup data. Automated data backups are done once a day and could result in a large amounts of data loss if you are looking to recover a database to a previous state with minimal data loss. Point in time recovery has the most up to date recovery capability.\
\
The security policy for a cloud sql database dictates that it should only be accessed from VPC networks within google cloud. You do not want t enable a public IP address for the instance. What should you do? Configure private service access in your VPC.
\f2 \

\f1 \
}